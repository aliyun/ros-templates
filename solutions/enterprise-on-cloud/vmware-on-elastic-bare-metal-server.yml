ROSTemplateFormatVersion: '2015-09-01'
Description:
  zh-cn: VMware至阿里云ECS Bare Metal迁移模板，配置VPC、安全组、多交换机及ECS实例，实现业务平滑上云，含公网访问与磁盘类型选择。
  en: VMware to Alibaba Cloud ECS Bare Metal Migration Template, encompassing configuration
    of VPC, Security Groups, multiple Switches, and ECS instances, facilitates a seamless
    transition of services to the cloud, inclusive of public internet access and selection
    of disk types for optimized performance and security.
Parameters:
  VSwitchZoneId:
    Type: String
    Label:
      en: VSwitch Availability Zone
      zh-cn: 交换机可用区
    Description:
      en: Availability Zone ID,<br><b>note： <font color='blue'>Before selecting, please
        confirm that the Availability Zone supports the specification of creating
        ECS resources.</font></b>
      zh-cn: 可用区ID。<br><b>注： <font color='blue'>选择可用区前请确认该可用区是否支持创建ECS资源的规格。</font></b>
    AssociationProperty: ALIYUN::ECS::Instance:ZoneId
  VpcCidrBlock:
    Type: String
    Label:
      en: VPC CIDR Block
      zh-cn: 专有网络网段
    Description:
      en: The IP address range of the VPC in the CIDR Block form.
      zh-cn: 专有网络IP地址段范围。
    Default: 192.168.0.0/16
    AllowedValues:
    - 10.0.0.0/8
    - 172.16.0.0/12
    - 192.168.0.0/16
  VSwitch1CidrBlock:
    Type: String
    Label:
      en: VSwitch 1 CIDR Block
      zh-cn: 交换机1网段
    Description:
      en: Must be a sub-network segment of the proprietary network and is not occupied
        by other v-switches.
      zh-cn: 必须是所属专有网络的子网段，并且没有被其他交换机占用。
    Default: 192.168.10.0/24
  VSwitch2CidrBlock:
    Type: String
    Label:
      en: VSwitch 2 CIDR Block
      zh-cn: 交换机2网段
    Description:
      en: Must be a sub-network segment of the proprietary network and is not occupied
        by other v-switches.
      zh-cn: 必须是所属专有网络的子网段，并且没有被其他交换机占用。
    Default: 192.168.20.0/24
  VSwitch4CidrBlock:
    Type: String
    Label:
      en: VSwitch 3 CIDR Block
      zh-cn: 交换机3网段
    Description:
      en: Must be a sub-network segment of the proprietary network and is not occupied
        by other v-switches.
      zh-cn: 必须是所属专有网络的子网段，并且没有被其他交换机占用。
    Default: 192.168.40.0/24
  VSwitch5CidrBlock:
    Type: String
    Label:
      en: VSwitch 4 CIDR Block
      zh-cn: 交换机4网段
    Description:
      en: Must be a sub-network segment of the proprietary network and is not occupied
        by other v-switches.
      zh-cn: 必须是所属专有网络的子网段，并且没有被其他交换机占用。
    Default: 192.168.50.0/24
  VSwitch6CidrBlock:
    Type: String
    Label:
      en: VSwitch 5 CIDR Block
      zh-cn: 交换机5网段
    Description:
      en: Must be a sub-network segment of the proprietary network and is not occupied
        by other v-switches.
      zh-cn: 必须是所属专有网络的子网段，并且没有被其他交换机占用。
    Default: 192.168.60.0/24
  SecondaryPrivateIpAddressCount:
    Type: Number
    Label:
      en: The Number of IPv4
      zh-cn: IPv4数量
    Description:
      en: 'The number of private IP addresses assigned to elastic network CARDS, range
        of values: 1~19.'
      zh-cn: 为弹性网卡分配的私有IP地址数量，取值范围：1~19。
    ConstraintDescription:
      en: 'The number of private IP addresses assigned to an elastic network card,
        range of values: 1~19.'
      zh-cn: 为弹性网卡分配的私有IP地址数量，取值范围：1~19。
    Default: 9
    MinValue: 1
    MaxValue: 19
  WindowsVCenterInstanceType:
    Type: String
    Label:
      en: Instance Specification
      zh-cn: 实例规格
    Description:
      en: 'Fill in the specifications that can be used under the VSwitch availability
        zone;</b></font><br>general specifications：<font color=''red''><b>ecs.g5.xlarge</b></font><br>note:
        a few zones do not support general specifications<br>see detail: <a href=''https://www.alibabacloud.com/help/en/doc-detail/25378.html''
        target=''_blank''><b><font color=''blue''>Instance Specification Family</font></a></b>'
      zh-cn: 填写VSwitch可用区下可使用的规格；<br>通用规格：<font color='red'><b>ecs.g5.xlarge</b></font><br>注：可用区可能不支持通用规格<br>规格详见：<a
        href='https://help.aliyun.com/document_detail/25378.html' target='_blank'><b><font
        color='blue'>实例规格族</font></a></b>
    AssociationProperty: ALIYUN::ECS::Instance::InstanceType
    AssociationPropertyMetadata:
      ZoneId: VSwitchZoneId
  WindowsVCenterImageId:
    Type: String
    Label:
      en: Image
      zh-cn: 镜像
    Description:
      en: 'Data center ECS instance Image ID. Default:Windows Sever 2016, <br>see
        detail: <b><a href=''https://www.alibabacloud.com/help/doc-detail/112977.html''
        target=''_blank''><font color=''blue''>Find the mirror</font></a></b>'
      zh-cn: '数据中心ECS实例镜像ID，默认使用Windows Sever 2016，<br>详情请参考: <a href=''https://help.aliyun.com/document_detail/112977.html''
        target=''_blank''><font color=''blue''><b>公共镜像</b></font></a>'
    Default: win2016_64_dtc
  WindowsVCenterAllocatePublicIP:
    Type: Boolean
    Label:
      en: Public IP
      zh-cn: 公网IP
    Description:
      en: Whether to allocate public network IP.
      zh-cn: 是否分配公网IP
    Default: true
  WindowsVCenterDiskCategory:
    Type: String
    Label:
      en: Disk Type
      zh-cn: 磁盘类型
    Description:
      en: '<font color=''blue''><b>Optional values:</b></font><br>[cloud_efficiency:
        <font color=''green''>Efficient Cloud Disk</font>]<br>[cloud_ssd: <font color=''green''>SSD
        Cloud Disk</font>]<br>[cloud_essd: <font color=''green''>ESSD Cloud Disk</font>]<br>[cloud:
        <font color=''green''>Cloud Disk</font>]<br>[ephemeral_ssd: <font color=''green''>Local
        SSD Cloud Disk</font>]'
      zh-cn: '<font color=''blue''><b>可选值：</b></font><br>[cloud_efficiency: <font
        color=''green''>高效云盘</font>]<br>[cloud_ssd: <font color=''green''>SSD云盘</font>]<br>[cloud_essd:
        <font color=''green''>ESSD云盘</font>]<br>[cloud: <font color=''green''>普通云盘</font>]<br>[ephemeral_ssd:
        <font color=''green''>本地SSD盘</font>]'
    Default: cloud_efficiency
    AllowedValues:
    - cloud_efficiency
    - cloud_ssd
    - cloud
    - cloud_essd
    - ephemeral_ssd
  WindowsVCenterSystemDiskSize:
    Type: Number
    Label:
      en: System Disk Space
      zh-cn: 系统盘空间
    Description:
      en: 'System disk size, range of values: 40-500, units: GB.'
      zh-cn: 系统盘大小, 取值范围：[40, 500], 单位：GB。
    ConstraintDescription:
      en: 'Value range: 40~500. Unit: GB'
      zh-cn: 取值范围：40~500。单位：GB
    Default: 40
    MinValue: 40
    MaxValue: 500
  WindowsVCenterDataDiskSize:
    Type: Number
    Label:
      en: Disk Space
      zh-cn: 数据盘空间
    Description:
      en: 'Disk space size, range of values: 20~32768, units: GB.'
      zh-cn: 数据盘空间, 取值范围：20~32768，单位：GB。
    ConstraintDescription:
      en: 'Value range: 20~32768. Unit: GB'
      zh-cn: 取值范围：20~32768, 单位：GB。
    Default: 20
    MinValue: 20
    MaxValue: 32768
  WindowsVCenterInternetMaxBandwidthIn:
    Type: Number
    Label:
      en: The Peak Bandwidth
      zh-cn: 带宽峰值
    Description:
      en: 'range of values: 1~100, units: MB.'
      zh-cn: 取值范围：1~100。单位：MB
    ConstraintDescription:
      en: 'Value range: 1~100. Unit: MB'
      zh-cn: 取值范围：1~100。单位：MB
    Default: 10
    MinValue: 1
    MaxValue: 100
  EcsPassword:
    Type: String
    Label:
      en: Instance Password
      zh-cn: 实例密码
    Description:
      en: Server login password, Length 8-30, must contain three(Capital letters,
        lowercase letters, numbers, ()`~!@#$%^&*_-+=|{}[]:;'<>,.?/ Special symbol
        in).
      zh-cn: 服务器登录密码,长度8-30，必须包含三项（大写字母、小写字母、数字、 ()`~!@#$%^&*_-+=|{}[]:;'<>,.?/ 中的特殊符号）。
    ConstraintDescription:
      en: Length 8-30, must contain three(Capital letters, lowercase letters, numbers,
        ()`~!@#$%^&*_-+=|{}[]:;'<>,.?/ Special symbol in).
      zh-cn: 长度8-30，必须包含三项（大写字母、小写字母、数字、 ()`~!@#$%^&*_-+=|{}[]:;'<>,.?/ 中的特殊符号）。
    AllowedPattern: '[0-9A-Za-z\_\-\&:;''<>,=%`~!@#\(\)\$\^\*\+\|\{\}\[\]\.\?\/]+$'
    MinLength: 8
    MaxLength: 30
    NoEcho: true
  InstanceGroupAmount:
    Type: Number
    Label:
      en: Number of Instances
      zh-cn: 实例数量
    Description:
      en: 'Number of instances, range of values: [1，100].'
      zh-cn: 创建的实例数量，范围：1~100。
    ConstraintDescription:
      en: 'Number of instances, range of values: [1，1000].'
      zh-cn: 创建的ECS数量，范围：1~100。
    Default: 2
    MinValue: 1
    MaxValue: 100
  ImageId:
    Type: String
    Label:
      en: Custom Image ID
      zh-cn: 自定义镜像ID
    Description:
      en: Customize the ID of VMware mirror esxi-xdragon-date.
      zh-cn: 自定义VMware镜像esxi-xdragon-date的ID。
  InstanceType:
    Type: String
    Label:
      en: Instance Specification
      zh-cn: 实例规格
    Description:
      en: 'ECS Bare Metal Instance;fill in the specifications that can be used under
        the VSwitch availability zone;</b></font><br>recommended specifications：<font
        color=''red''><b>ecs.ebmc5s.24xlarge</b></font><br>note: a few zones do not
        support recommended specifications<br>see detail: <a href=''https://www.alibabacloud.com/help/en/doc-detail/25378.html''
        target=''_blank''><b><font color=''blue''>Instance Specification Family</font></a></b>'
      zh-cn: 弹性裸金属服务器,填写VSwitch可用区下可使用的规格；<br>推荐规格：<font color='red'><b>ecs.ebmc5s.24xlarge</b></font><br>注：可用区可能不支持推荐规格<br>规格详见：<a
        href='https://help.aliyun.com/document_detail/25378.html' target='_blank'><b><font
        color='blue'>实例规格族</font></a></b>
    AssociationProperty: ALIYUN::ECS::Instance::InstanceType
    AssociationPropertyMetadata:
      ZoneId: VSwitchZoneId
  DiskCategory:
    Type: String
    Label:
      en: Disk Type
      zh-cn: 磁盘类型
    Description:
      en: '<font color=''blue''><b>Optional values:</b></font><br>[cloud_efficiency:
        <font color=''green''>Efficient Cloud Disk</font>]<br>[cloud_ssd: <font color=''green''>SSD
        Cloud Disk</font>]<br>[cloud_essd: <font color=''green''>ESSD Cloud Disk</font>]<br>[cloud:
        <font color=''green''>Cloud Disk</font>]<br>[ephemeral_ssd: <font color=''green''>Local
        SSD Cloud Disk</font>]'
      zh-cn: '<font color=''blue''><b>可选值：</b></font><br>[cloud_efficiency: <font
        color=''green''>高效云盘</font>]<br>[cloud_ssd: <font color=''green''>SSD云盘</font>]<br>[cloud_essd:
        <font color=''green''>ESSD云盘</font>]<br>[cloud: <font color=''green''>普通云盘</font>]<br>[ephemeral_ssd:
        <font color=''green''>本地SSD盘</font>]'
    Default: cloud_efficiency
    AllowedValues:
    - cloud_efficiency
    - cloud_ssd
    - cloud
    - cloud_essd
    - ephemeral_ssd
  DiskSize:
    Type: Number
    Label:
      en: Disk Space
      zh-cn: 数据盘空间
    Description:
      en: 'Disk space size, range of values: 20~500, units: GB.'
      zh-cn: 数据盘空间, 取值范围：20~500，单位：GB。
    ConstraintDescription:
      en: 'Value range: 20~500. Unit: GB'
      zh-cn: 取值范围：20~500, 单位：GB。
    Default: 20
    MinValue: 20
    MaxValue: 500
  SystemDiskSize:
    Type: Number
    Label:
      en: System Disk Space
      zh-cn: 系统盘空间
    Description:
      en: 'System disk size, range of values: 40-500, units: GB.'
      zh-cn: 系统盘大小, 取值范围：[40, 500], 单位：GB。
    ConstraintDescription:
      en: 'Value range: 40~500. Unit: GB'
      zh-cn: 取值范围：40~500。单位：GB
    Default: 40
    MinValue: 40
    MaxValue: 500
  PublicIP:
    Type: Boolean
    Label:
      en: Public IP
      zh-cn: 公网IP
    Description:
      en: Whether to allocate public network IP.
      zh-cn: 是否分配公网IP
    Default: true
  InternetMaxBandwidthIn:
    Type: Number
    Label:
      en: The Peak Bandwidth
      zh-cn: 带宽峰值
    Description:
      en: 'Range of values: 1~100.'
      zh-cn: 取值范围：1~100。
    ConstraintDescription:
      en: 'Value range: 1~100. Unit: MB'
      zh-cn: 取值范围：1~100。单位：MB
    Default: 10
    MinValue: 1
    MaxValue: 100
  TestImageId:
    Type: String
    Label:
      en: Image
      zh-cn: 镜像
    Description:
      en: 'Test connection with ECS instance Image ID,<br>see detail: <b><a href=''https://www.alibabacloud.com/help/doc-detail/112977.html''
        target=''_blank''><font color=''blue''>Find the mirror</font></a></b>'
      zh-cn: '测试连接用ECS实例镜像ID，<br>详情请参考: <a href=''https://help.aliyun.com/document_detail/112977.html''
        target=''_blank''><font color=''blue''><b>公共镜像</b></font></a>'
    Default: centos_7.6
  TestInstanceType:
    Type: String
    Label:
      en: Instance Specification
      zh-cn: 实例规格
    Description:
      en: 'Fill in the specifications that can be used under the VSwitch availability
        zone;</b></font><br>general specifications：<font color=''red''><b>ecs.g5.large</b></font><br>note:
        a few zones do not support general specifications<br>see detail: <a href=''https://www.alibabacloud.com/help/en/doc-detail/25378.html''
        target=''_blank''><b><font color=''blue''>Instance Specification Family</font></a></b>'
      zh-cn: 填写VSwitch可用区下可使用的规格；<br>通用规格：<font color='red'><b>ecs.g5.large</b></font><br>注：可用区可能不支持通用规格<br>规格详见：<a
        href='https://help.aliyun.com/document_detail/25378.html' target='_blank'><b><font
        color='blue'>实例规格族</font></a></b>
    AssociationProperty: ALIYUN::ECS::Instance::InstanceType
    AssociationPropertyMetadata:
      ZoneId: VSwitchZoneId
  TestSystemDiskCategory:
    Type: String
    Label:
      en: Disk Type
      zh-cn: 磁盘类型
    Description:
      en: '<font color=''blue''><b>Optional values:</b></font><br>[cloud_efficiency:
        <font color=''green''>Efficient Cloud Disk</font>]<br>[cloud_ssd: <font color=''green''>SSD
        Cloud Disk</font>]<br>[cloud_essd: <font color=''green''>ESSD Cloud Disk</font>]<br>[cloud:
        <font color=''green''>Cloud Disk</font>]<br>[ephemeral_ssd: <font color=''green''>Local
        SSD Cloud Disk</font>]'
      zh-cn: '<font color=''blue''><b>可选值：</b></font><br>[cloud_efficiency: <font
        color=''green''>高效云盘</font>]<br>[cloud_ssd: <font color=''green''>SSD云盘</font>]<br>[cloud_essd:
        <font color=''green''>ESSD云盘</font>]<br>[cloud: <font color=''green''>普通云盘</font>]<br>[ephemeral_ssd:
        <font color=''green''>本地SSD盘</font>]'
    Default: cloud_efficiency
    AllowedValues:
    - cloud_efficiency
    - cloud_ssd
    - cloud
    - cloud_essd
    - ephemeral_ssd
  TestSystemDiskSize:
    Type: Number
    Label:
      en: System Disk Space
      zh-cn: 系统盘空间
    Description:
      en: 'System disk size, range of values: 40-500, units: GB.'
      zh-cn: 系统盘大小, 取值范围：[40, 500], 单位：GB。
    ConstraintDescription:
      en: 'Value range: 40~500. Unit: GB'
      zh-cn: 取值范围：40~500。单位：GB
    Default: 40
    MinValue: 40
    MaxValue: 500
  TestAllocatePublicIP:
    Type: Boolean
    Label:
      en: Public IP
      zh-cn: 公网IP
    Description:
      en: Whether to allocate public network IP.
      zh-cn: 是否分配公网IP
    Default: true
  SystemDiskCategory:
    Type: String
    Label:
      en: Disk Type
      zh-cn: 磁盘类型
    Description:
      en: '<font color=''blue''><b>Optional values:</b></font><br>[cloud_efficiency:
        <font color=''green''>Efficient Cloud Disk</font>]<br>[cloud_ssd: <font color=''green''>SSD
        Cloud Disk</font>]<br>[cloud_essd: <font color=''green''>ESSD Cloud Disk</font>]<br>[cloud:
        <font color=''green''>Cloud Disk</font>]<br>[ephemeral_ssd: <font color=''green''>Local
        SSD Cloud Disk</font>]'
      zh-cn: '<font color=''blue''><b>可选值：</b></font><br>[cloud_efficiency: <font
        color=''green''>高效云盘</font>]<br>[cloud_ssd: <font color=''green''>SSD云盘</font>]<br>[cloud_essd:
        <font color=''green''>ESSD云盘</font>]<br>[cloud: <font color=''green''>普通云盘</font>]<br>[ephemeral_ssd:
        <font color=''green''>本地SSD盘</font>]'
    Default: cloud_efficiency
    AllowedValues:
    - cloud_efficiency
    - cloud_ssd
    - cloud
    - cloud_essd
    - ephemeral_ssd
Resources:
  EcsVpcEbm:
    Type: ALIYUN::ECS::VPC
    Properties:
      CidrBlock:
        Ref: VpcCidrBlock
      VpcName:
        Fn::Join:
        - '-'
        - - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: 65b62caa-68dc-46dc-8034-726890b39960
  EcsSecurityGroupEbm:
    Type: ALIYUN::ECS::SecurityGroup
    Properties:
      VpcId:
        Ref: EcsVpcEbm
      SecurityGroupIngress:
      - IpProtocol: tcp
        Policy: accept
        PortRange: 5900/5900
        Priority: 1
        SourceCidrIp: 0.0.0.0/0
      - IpProtocol: tcp
        Policy: accept
        PortRange: 5901/5901
        Priority: 1
        SourceCidrIp: 0.0.0.0/0
      SecurityGroupName:
        Fn::Join:
        - '-'
        - - Ebm
          - StackId
          - Ref: ALIYUN::StackId
      Tags:
      - Key: best_practice
        Value: '054'
    Metadata:
      ALIYUN::ROS::Designer:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
  EcsVSwitch1Management:
    Type: ALIYUN::ECS::VSwitch
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      CidrBlock:
        Ref: VSwitch1CidrBlock
      VSwitchName:
        Fn::Join:
        - '-'
        - - VSwitch1
          - Management
          - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: 5df5c713-f1c8-436c-80f3-30ec8448403e
  EcsInstanceGroupEbm:
    Type: ALIYUN::ECS::InstanceGroup
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      VSwitchId:
        Ref: EcsVSwitch1Management
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      ImageId:
        Ref: ImageId
      AllocatePublicIP:
        Ref: PublicIP
      DiskMappings:
      - Category:
          Ref: DiskCategory
        Size:
          Ref: DiskSize
      InstanceName: ebm-[1,2]
      InstanceType:
        Ref: InstanceType
      InternetChargeType: PayByTraffic
      InternetMaxBandwidthIn:
        Ref: InternetMaxBandwidthIn
      IoOptimized: optimized
      MaxAmount:
        Ref: InstanceGroupAmount
      MinAmount:
        Ref: InstanceGroupAmount
      SystemDiskCategory:
        Ref: DiskCategory
      SystemDiskSize:
        Ref: SystemDiskSize
      Tags:
      - Key: '054'
        Value: best_practice
    Metadata:
      ALIYUN::ROS::Designer:
        id: a2834a9a-e98e-4300-aec3-fa724ac7b7a5
  EcsEni1NsxManagement:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch1Management
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: nsx-management
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: 997025a3-d942-4c38-a96e-01a1e1fea2f0
  VpcEip1NsxManager:
    Type: ALIYUN::VPC::EIP
    Properties:
      Bandwidth: 10
      InstanceChargeType: Postpaid
      InternetChargeType: PayByTraffic
    Metadata:
      ALIYUN::ROS::Designer:
        id: 94ed0ced-a935-4597-beb8-a0db8e9f1c57
  VpcEip1Association1NsxManagement:
    Type: ALIYUN::VPC::EIPAssociation
    Properties:
      InstanceId:
        Ref: EcsEni1NsxManagement
      AllocationId:
        Ref: VpcEip1NsxManager
    DependsOn:
    - EcsEni1NsxManagement
    - VpcEip1NsxManager
    Metadata:
      ALIYUN::ROS::Designer:
        id: 89ce39c3-b1ae-4e72-949e-6f2c4a4b1c51
  EcsAssignPrivateIpAddresses1NsxManagement:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni1NsxManagement
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni1NsxManagement
    - VpcEip1Association1NsxManagement
    Metadata:
      ALIYUN::ROS::Designer:
        id: abb8bc2b-bc3f-4dc5-9aaf-31a923b0bde7
  EcsEni2NsxController:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch1Management
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: nsx-controller
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: 37c4d2fa-f505-449c-a2ca-ae70e9aa7702
  EcsAssignPrivateIpAddresses2NsxController:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni2NsxController
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni2NsxController
    Metadata:
      ALIYUN::ROS::Designer:
        id: ee475046-0e3d-4448-81aa-36b8a3aaa186
  EcsEni3NsxEdge:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch1Management
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: nsx-edge
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: 0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5
  EcsAssignPrivateIpAddresses3NsxEdge:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni3NsxEdge
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni3NsxEdge
    Metadata:
      ALIYUN::ROS::Designer:
        id: 91456691-d2d4-452f-8033-d1cef562ac6d
  EcsVSwitch4Overlay:
    Type: ALIYUN::ECS::VSwitch
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      CidrBlock:
        Ref: VSwitch4CidrBlock
      VSwitchName:
        Fn::Join:
        - '-'
        - - VSwitch4
          - Overlay
          - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: 23edb64c-a671-4ea9-9eac-ac4c499cdfc6
  EcsEni4VTepNetwork:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch4Overlay
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: vtep-network
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: c498a6e5-37fe-4bc1-9797-3eb57858ae1f
  EcsAssignPrivateIpAddresses4VTepNetwork:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni4VTepNetwork
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni4VTepNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: 5762992b-f4d1-4604-bce5-b264a587facc
  EcsEni5VTepEdge:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch4Overlay
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: vtep-edge
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: e20570fb-4439-4c14-a923-880f09dfd160
  EcsAssignPrivateIpAddresses5VTepEdge:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni5VTepEdge
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni5VTepEdge
    Metadata:
      ALIYUN::ROS::Designer:
        id: b81a9e53-c086-4afc-b06f-2ada26b8809c
  EcsVSwitch5External:
    Type: ALIYUN::ECS::VSwitch
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      CidrBlock:
        Ref: VSwitch5CidrBlock
      VSwitchName:
        Fn::Join:
        - '-'
        - - VSwitch5
          - External
          - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: 22180628-b297-4cd8-a02c-5b477b7dd364
  EcsEni6ExtNetwork:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch5External
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: ext-network
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: 53d5b443-f6b0-4549-a61d-ab00ab93faad
  EcsAssignPrivateIpAddresses6ExtNetwork:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni6ExtNetwork
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni6ExtNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: d0ad679c-120b-4047-9be5-74b5dfa690ad
  EcsVSwitch2VMotion:
    Type: ALIYUN::ECS::VSwitch
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      CidrBlock:
        Ref: VSwitch2CidrBlock
      VSwitchName:
        Fn::Join:
        - '-'
        - - VSwitch2
          - VMotion
          - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: bd676f3a-0a26-4621-be51-d05fbfdf244f
  EcsEni7VMotionNetwork:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch2VMotion
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: vmotion-network
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: 8518ea84-5bed-4bf4-bd6d-6adad83b5c04
  EcsAssignPrivateIpAddresses7VMotionNetwork:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni7VMotionNetwork
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni7VMotionNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: 0178781a-5f70-4d82-92d5-998e0a390776
  EcsEni8VMotionCompute:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch2VMotion
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: vmotion-compute
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: f68622b7-5b5e-4581-ae0b-36877db2bd61
  EcsAssignPrivateIpAddresses8VMotionCompute:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni8VMotionCompute
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni8VMotionCompute
    Metadata:
      ALIYUN::ROS::Designer:
        id: d0710e9f-ee0a-4715-aa4f-a842565af2ed
  EcsEni9VTepCompute:
    Type: ALIYUN::ECS::NetworkInterface
    Properties:
      VSwitchId:
        Ref: EcsVSwitch4Overlay
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      NetworkInterfaceName: vtep-compute
    DependsOn:
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0
  EcsAssignPrivateIpAddresses9VTepCompute:
    Type: ALIYUN::ECS::AssignPrivateIpAddresses
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni9VTepCompute
      SecondaryPrivateIpAddressCount:
        Ref: SecondaryPrivateIpAddressCount
    DependsOn:
    - EcsEni9VTepCompute
    Metadata:
      ALIYUN::ROS::Designer:
        id: 4ddf7527-5778-4d11-ab12-92fd45393c8d
  EcsEni1AttachmentEbmNsxM2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni1NsxManagement
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses1NsxManagement
    - EcsEni1NsxManagement
    - EcsInstanceGroupEbm
    Metadata:
      ALIYUN::ROS::Designer:
        id: ee5cfb12-8006-4b86-9055-7aab16c0ab20
  EcsEni2AttachmentEbmNsxC2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni2NsxController
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses2NsxController
    - EcsEni1AttachmentEbmNsxM2
    - EcsEni2NsxController
    Metadata:
      ALIYUN::ROS::Designer:
        id: 03c19fc8-7e0c-4c54-bfbc-dce76e48336a
  EcsEni3AttachmentEbmNsxE2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni3NsxEdge
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses3NsxEdge
    - EcsEni2AttachmentEbmNsxC2
    - EcsEni3NsxEdge
    Metadata:
      ALIYUN::ROS::Designer:
        id: a3faac40-3d62-4add-8327-26168f79012e
  EcsEni4AttachmentEbmVTepN2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni4VTepNetwork
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses4VTepNetwork
    - EcsEni3AttachmentEbmNsxE2
    - EcsEni4VTepNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: cc837c1a-334c-4a0e-a4a0-4c1fcb6a1615
  EcsEni5AttachmentEbmVTepE2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Fn::GetAtt:
        - EcsEni5VTepEdge
        - NetworkInterfaceId
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses5VTepEdge
    - EcsEni4AttachmentEbmVTepN2
    Metadata:
      ALIYUN::ROS::Designer:
        id: 9bdff8c2-8b99-42d3-8ed5-985f8983cf60
  EcsEni6AttachmentEbmExtN2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni6ExtNetwork
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses6ExtNetwork
    - EcsEni5AttachmentEbmVTepE2
    - EcsEni6ExtNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: 81a202d5-b115-4d24-a24f-28e85f040b3d
  EcsEni7AttachmentEbmVMotionN2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni7VMotionNetwork
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses7VMotionNetwork
    - EcsEni6AttachmentEbmExtN2
    - EcsEni7VMotionNetwork
    Metadata:
      ALIYUN::ROS::Designer:
        id: 408a2fd4-9698-4db5-aa6b-35d536f4a3fc
  EcsEni8AttachmentEbmVMotionC2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni8VMotionCompute
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses8VMotionCompute
    - EcsEni7AttachmentEbmVMotionN2
    - EcsEni8VMotionCompute
    Metadata:
      ALIYUN::ROS::Designer:
        id: 28966b70-5b4a-4a45-833a-56b968b0fe67
  EcsEni9AttachmentEbmVTepC2:
    Type: ALIYUN::ECS::NetworkInterfaceAttachment
    Properties:
      NetworkInterfaceId:
        Ref: EcsEni9VTepCompute
      InstanceId:
        Fn::Select:
        - '0'
        - Fn::GetAtt:
          - EcsInstanceGroupEbm
          - InstanceIds
    DependsOn:
    - EcsAssignPrivateIpAddresses9VTepCompute
    - EcsEni8AttachmentEbmVMotionC2
    - EcsEni9VTepCompute
    Metadata:
      ALIYUN::ROS::Designer:
        id: 97f21161-342d-4f5b-beb6-84418d276235
  EcsVSwitch6Vm:
    Type: ALIYUN::ECS::VSwitch
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      CidrBlock:
        Ref: VSwitch6CidrBlock
      VSwitchName:
        Fn::Join:
        - '-'
        - - VSwitch6
          - EcsVm
          - StackId
          - Ref: ALIYUN::StackId
    Metadata:
      ALIYUN::ROS::Designer:
        id: f974a802-6f93-44a1-af70-8c2cc70d9797
  EcsInstanceTest:
    Type: ALIYUN::ECS::Instance
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      VSwitchId:
        Ref: EcsVSwitch6Vm
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      ImageId:
        Ref: TestImageId
      InstanceName: ecsvm
      InstanceType:
        Ref: TestInstanceType
      Password:
        Ref: EcsPassword
      SystemDiskCategory:
        Ref: TestSystemDiskCategory
      SystemDiskSize:
        Ref: TestSystemDiskSize
      Tags:
      - Key: '054'
        Value: best_practice
    Metadata:
      ALIYUN::ROS::Designer:
        id: d47c2f64-8b52-4778-93cd-277c5a31a09a
  EcsInstanceWindowsVCenter:
    Type: ALIYUN::ECS::Instance
    Properties:
      ZoneId:
        Ref: VSwitchZoneId
      VpcId:
        Ref: EcsVpcEbm
      VSwitchId:
        Ref: EcsVSwitch1Management
      SecurityGroupId:
        Ref: EcsSecurityGroupEbm
      ImageId:
        Ref: WindowsVCenterImageId
      AllocatePublicIP:
        Ref: WindowsVCenterAllocatePublicIP
      DiskMappings:
      - Category:
          Ref: WindowsVCenterDiskCategory
        Size:
          Ref: WindowsVCenterDataDiskSize
      InstanceName: windows_vCenter
      InstanceType:
        Ref: WindowsVCenterInstanceType
      InternetChargeType: PayByTraffic
      InternetMaxBandwidthIn:
        Ref: WindowsVCenterInternetMaxBandwidthIn
      Password:
        Ref: EcsPassword
      SystemDiskCategory:
        Ref: WindowsVCenterDiskCategory
      SystemDiskSize:
        Ref: WindowsVCenterSystemDiskSize
      Tags:
      - Key: '054'
        Value: best_practice
    Metadata:
      ALIYUN::ROS::Designer:
        id: 306c9855-472b-494c-a303-10f9ed5867b3
  VpcEip2Vm2:
    Type: ALIYUN::VPC::EIP
    Properties:
      Bandwidth: 1
      InstanceChargeType: Postpaid
      InternetChargeType: PayByTraffic
    Metadata:
      ALIYUN::ROS::Designer:
        id: 7c76fed0-819d-42c0-a63c-44978e052df5
  VpcEip3Vm2:
    Type: ALIYUN::VPC::EIP
    Properties:
      Bandwidth: 1
      InstanceChargeType: Postpaid
      InternetChargeType: PayByTraffic
    Metadata:
      ALIYUN::ROS::Designer:
        id: 7b4dd7be-a4c8-430e-b857-3b865172922e
  VpcNatGateway:
    Type: ALIYUN::VPC::NatGateway
    Properties:
      VpcId:
        Ref: EcsVpcEbm
      VSwitchId:
        Ref: EcsVSwitch1Management
    Metadata:
      ALIYUN::ROS::Designer:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
    Spec: Small
  VpcEipAssociationNatGateway:
    Type: ALIYUN::VPC::EIPAssociation
    Properties:
      InstanceId:
        Ref: VpcNatGateway
      AllocationId:
        Ref: VpcEip2Vm2
    DependsOn:
    - VpcEip2Vm2
    - VpcNatGateway
    Metadata:
      ALIYUN::ROS::Designer:
        id: fdad2146-da3b-485a-9eb6-04540c206760
  VpcSnatEntry:
    Type: ALIYUN::VPC::SnatEntry
    Properties:
      SourceVSwitchIds:
      - Ref: EcsVSwitch5External
      SnatIp:
        Fn::GetAtt:
        - VpcEip2Vm2
        - EipAddress
      SnatTableId:
        Fn::GetAtt:
        - VpcNatGateway
        - SNatTableId
    DependsOn:
    - VpcEipAssociationNatGateway
    Metadata:
      ALIYUN::ROS::Designer:
        id: 40c20df8-33f4-4593-98a7-69b1114d9971
Outputs:
  ECSInstanceID:
    Value:
      Fn::GetAtt:
      - EcsInstanceGroupEbm
      - InstanceIds
  ExtNetworkPrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses6ExtNetwork
      - PrivateIpAddresses
  NsxControllerPrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses2NsxController
      - PrivateIpAddresses
  NsxEdgePrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses3NsxEdge
      - PrivateIpAddresses
  NsxManagementEIP:
    Value:
      Fn::GetAtt:
      - VpcEip1NsxManager
      - EipAddress
  NsxManagementPrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses1NsxManagement
      - PrivateIpAddresses
  PublicIP:
    Value:
      Fn::GetAtt:
      - EcsInstanceGroupEbm
      - PublicIps
  VMotionComputePrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses8VMotionCompute
      - PrivateIpAddresses
  VMotionNetworkPrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses7VMotionNetwork
      - PrivateIpAddresses
  VTepComputePrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses9VTepCompute
      - PrivateIpAddresses
  VTepEdgePrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses5VTepEdge
      - PrivateIpAddresses
  VTepNetworkPrivateIPAddress:
    Value:
      Fn::GetAtt:
      - EcsAssignPrivateIpAddresses4VTepNetwork
      - PrivateIpAddresses
Metadata:
  ALIYUN::ROS::Interface:
    ParameterGroups:
    - Parameters:
      - VSwitchZoneId
      - VpcCidrBlock
      - VSwitch1CidrBlock
      - VSwitch2CidrBlock
      - VSwitch4CidrBlock
      - VSwitch5CidrBlock
      - VSwitch6CidrBlock
      - SecondaryPrivateIpAddressCount
      Label:
        default:
          en: VPC
          zh-cn: 专有网络
    - Parameters:
      - WindowsVCenterInstanceType
      - WindowsVCenterImageId
      - WindowsVCenterAllocatePublicIP
      - WindowsVCenterDiskCategory
      - WindowsVCenterSystemDiskSize
      - WindowsVCenterDataDiskSize
      - WindowsVCenterInternetMaxBandwidthIn
      - EcsPassword
      Label:
        default:
          en: ECS:Data center instance
          zh-cn: 'ECS: 数据中心实例'
    - Parameters:
      - InstanceGroupAmount
      - ImageId
      - InstanceType
      - DiskCategory
      - DiskSize
      - SystemDiskSize
      - PublicIP
      - InternetMaxBandwidthIn
      Label:
        default:
          en: ECS:Network and compute node instances
          zh-cn: 'ECS: 网络和计算节点实例'
    - Parameters:
      - TestImageId
      - TestInstanceType
      - TestSystemDiskCategory
      - TestSystemDiskSize
      - TestAllocatePublicIP
      Label:
        default:
          en: ECS:Test connection instance
          zh-cn: 'ECS: 测试连接实例'
    TemplateTags:
    - acs:solution:AnyStack on阿里云:VMware on弹性裸金属
  ALIYUN::ROS::Designer:
    0148eb06-afae-421a-9b1e-9cae7dd1aca7:
      source:
        id: 306c9855-472b-494c-a303-10f9ed5867b3
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    0178781a-5f70-4d82-92d5-998e0a390776:
      position:
        x: 1561
        y: 490
      size:
        height: 60
        width: 60
      z: 0
    01fdcd66-a593-4432-8d03-eeaab825fc24:
      source:
        id: 9bdff8c2-8b99-42d3-8ed5-985f8983cf60
      target:
        id: e20570fb-4439-4c14-a923-880f09dfd160
      z: 1
    03c19fc8-7e0c-4c54-bfbc-dce76e48336a:
      position:
        x: -4
        y: 210
      size:
        height: 60
        width: 60
      z: 0
    05178e52-cc43-457a-a123-cc8c9769972d:
      source:
        id: 997025a3-d942-4c38-a96e-01a1e1fea2f0
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    08558210-fe42-476e-ae26-f364df3f9da1:
      source:
        id: e20570fb-4439-4c14-a923-880f09dfd160
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5:
      position:
        x: 435
        y: 435
      size:
        height: 60
        width: 60
      z: 2
    107c7e1c-b3a4-4ded-ac45-9729009f4dae:
      source:
        id: 8518ea84-5bed-4bf4-bd6d-6adad83b5c04
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    2007dad9-8160-490b-8eff-086db5d797ff:
      source:
        id: 53d5b443-f6b0-4549-a61d-ab00ab93faad
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    22180628-b297-4cd8-a02c-5b477b7dd364:
      embeds:
      - 53d5b443-f6b0-4549-a61d-ab00ab93faad
      - f974a802-6f93-44a1-af70-8c2cc70d9797
      position:
        x: 684
        y: 26
      size:
        height: 178
        width: 163.5546875
      z: 1
    22ce0050-319c-41ec-b4bb-db03faab0e54:
      source:
        id: d0ad679c-120b-4047-9be5-74b5dfa690ad
      target:
        id: 53d5b443-f6b0-4549-a61d-ab00ab93faad
      z: 1
    23edb64c-a671-4ea9-9eac-ac4c499cdfc6:
      embeds:
      - c498a6e5-37fe-4bc1-9797-3eb57858ae1f
      - e20570fb-4439-4c14-a923-880f09dfd160
      - ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0
      position:
        x: 1008
        y: 24
      size:
        height: 181
        width: 413
      z: 1
    28966b70-5b4a-4a45-833a-56b968b0fe67:
      position:
        x: 1398
        y: 701
      size:
        height: 60
        width: 60
      z: 0
    2ba5c8e2-a08a-407d-9512-9ee47fd7b62d:
      source:
        id: abb8bc2b-bc3f-4dc5-9aaf-31a923b0bde7
      target:
        id: 997025a3-d942-4c38-a96e-01a1e1fea2f0
      z: 1
    306c9855-472b-494c-a303-10f9ed5867b3:
      position:
        x: 435
        y: 186
      size:
        height: 60
        width: 60
      z: 2
    32cb651c-96d3-47eb-a37a-083e0c7280fa:
      source:
        id: b81a9e53-c086-4afc-b06f-2ada26b8809c
      target:
        id: e20570fb-4439-4c14-a923-880f09dfd160
      z: 1
    37c4d2fa-f505-449c-a2ca-ae70e9aa7702:
      position:
        x: 437
        y: 264
      size:
        height: 60
        width: 60
      z: 2
    3959332d-9352-47f7-928f-dd7e7b723942:
      source:
        id: a2834a9a-e98e-4300-aec3-fa724ac7b7a5
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    3eea5d92-7cb4-43ae-b5f5-9fe4ab45e84e:
      source:
        id: e87eb809-dde6-4a1e-b9c6-ffa7a60d3511
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    3fc68302-cd90-453f-b13b-5021e70f8bbb:
      source:
        id: 40c20df8-33f4-4593-98a7-69b1114d9971
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    404ca769-5b2d-4e5c-95a7-760d57269344:
      source:
        id: 5762992b-f4d1-4604-bce5-b264a587facc
      target:
        id: c498a6e5-37fe-4bc1-9797-3eb57858ae1f
      z: 1
    408a2fd4-9698-4db5-aa6b-35d536f4a3fc:
      position:
        x: 1561
        y: 317
      size:
        height: 60
        width: 60
      z: 0
    40c20df8-33f4-4593-98a7-69b1114d9971:
      position:
        x: 245
        y: 704
      size:
        height: 60
        width: 60
      z: 0
    49195fe9-79a0-439e-a31a-b40c1d127f66:
      position:
        x: 912
        y: 471
      size:
        height: 60
        width: 60
      z: 1
    4ddf7527-5778-4d11-ab12-92fd45393c8d:
      position:
        x: 1550
        y: 143
      size:
        height: 60
        width: 60
      z: 0
    52265ce3-275c-4f4c-acfb-eb0d79d4b50a:
      position:
        x: 245
        y: 568
      size:
        height: 60
        width: 60
      z: 2
    53d5b443-f6b0-4549-a61d-ab00ab93faad:
      position:
        x: 731
        y: 75
      size:
        height: 60
        width: 60
      z: 2
    566f1c57-de03-4180-8358-73baba62880b:
      source:
        id: 03c19fc8-7e0c-4c54-bfbc-dce76e48336a
      target:
        id: 37c4d2fa-f505-449c-a2ca-ae70e9aa7702
      z: 1
    5762992b-f4d1-4604-bce5-b264a587facc:
      position:
        x: 1313
        y: -182
      size:
        height: 60
        width: 60
      z: 0
    5813768d-4cdf-4c85-b5e9-8500c901c54b:
      source:
        id: 4ddf7527-5778-4d11-ab12-92fd45393c8d
      target:
        id: ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0
      z: 1
    5df5c713-f1c8-436c-80f3-30ec8448403e:
      embeds:
      - 306c9855-472b-494c-a303-10f9ed5867b3
      - a2834a9a-e98e-4300-aec3-fa724ac7b7a5
      - 997025a3-d942-4c38-a96e-01a1e1fea2f0
      - 37c4d2fa-f505-449c-a2ca-ae70e9aa7702
      - 0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5
      - 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      position:
        x: 205
        y: 152
      size:
        height: 526
        width: 357
      z: 1
    5e4d4eb7-5923-40eb-a95f-e6f92ade5b08:
      source:
        id: e87eb809-dde6-4a1e-b9c6-ffa7a60d3511
      target:
        id: 7c76fed0-819d-42c0-a63c-44978e052df5
      z: 1
    65b62caa-68dc-46dc-8034-726890b39960:
      embeds:
      - 5df5c713-f1c8-436c-80f3-30ec8448403e
      - f974a802-6f93-44a1-af70-8c2cc70d9797
      - 23edb64c-a671-4ea9-9eac-ac4c499cdfc6
      - 22180628-b297-4cd8-a02c-5b477b7dd364
      - bd676f3a-0a26-4621-be51-d05fbfdf244f
      - 49195fe9-79a0-439e-a31a-b40c1d127f66
      position:
        x: 182
        y: -16
      size:
        height: 721
        width: 1268.806640625
      z: 0
    65d9dc3a-1db1-41b8-8387-c9ecd9367895:
      source:
        id: ee475046-0e3d-4448-81aa-36b8a3aaa186
      target:
        id: 37c4d2fa-f505-449c-a2ca-ae70e9aa7702
      z: 1
    68d3b2e9-fc83-4cf8-b2f5-9a11626912eb:
      source:
        id: e87eb809-dde6-4a1e-b9c6-ffa7a60d3511
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    6bd6f871-7728-446d-b914-5338e5abb826:
      source:
        id: 91456691-d2d4-452f-8033-d1cef562ac6d
      target:
        id: 0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5
      z: 1
    73e0ed60-08f2-4c58-a54e-0e58f90b5e3c:
      source:
        id: 37c4d2fa-f505-449c-a2ca-ae70e9aa7702
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    7a2591a9-e6bd-4fa0-860d-9b8a96f2a707:
      source:
        id: 28966b70-5b4a-4a45-833a-56b968b0fe67
      target:
        id: f68622b7-5b5e-4581-ae0b-36877db2bd61
      z: 1
    7a6af3e1-59ba-48d1-bdcd-0b50fbe89447:
      source:
        id: 0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    7b4dd7be-a4c8-430e-b857-3b865172922e:
      position:
        x: -169
        y: 568
      size:
        height: 60
        width: 60
      z: 0
    7b9c14d3-1e8f-43b5-a26a-1d9a1bb1c4a1:
      source:
        id: f68622b7-5b5e-4581-ae0b-36877db2bd61
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    7c76fed0-819d-42c0-a63c-44978e052df5:
      position:
        x: -8
        y: 771
      size:
        height: 60
        width: 60
      z: 0
    81a202d5-b115-4d24-a24f-28e85f040b3d:
      position:
        x: 731
        y: -177
      size:
        height: 60
        width: 60
      z: 0
    81a35082-5e92-4a76-b7d6-f51a5579b487:
      source:
        id: c498a6e5-37fe-4bc1-9797-3eb57858ae1f
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    81fb1714-a6da-404e-bce9-3204eb85726f:
      source:
        id: 81a202d5-b115-4d24-a24f-28e85f040b3d
      target:
        id: 53d5b443-f6b0-4549-a61d-ab00ab93faad
      z: 1
    8518ea84-5bed-4bf4-bd6d-6adad83b5c04:
      position:
        x: 1257
        y: 412
      size:
        height: 60
        width: 60
      z: 2
    85530309-2f30-4478-bb51-d655199ef221:
      source:
        id: cc837c1a-334c-4a0e-a4a0-4c1fcb6a1615
      target:
        id: c498a6e5-37fe-4bc1-9797-3eb57858ae1f
      z: 1
    872d5e32-924c-4e65-a2b1-e01593d09409:
      source:
        id: e87eb809-dde6-4a1e-b9c6-ffa7a60d3511
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    88831404-000e-4377-87b8-2b06b306f867:
      source:
        id: ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0
      target:
        id: 49195fe9-79a0-439e-a31a-b40c1d127f66
      z: 1
    89ce39c3-b1ae-4e72-949e-6f2c4a4b1c51:
      position:
        x: 295
        y: 778
      size:
        height: 60
        width: 60
      z: 0
    89f78f97-deab-4aa4-aa50-a0265d028d4d:
      source:
        id: ee5cfb12-8006-4b86-9055-7aab16c0ab20
      target:
        id: 997025a3-d942-4c38-a96e-01a1e1fea2f0
      z: 1
    91456691-d2d4-452f-8033-d1cef562ac6d:
      position:
        x: -9
        y: 391
      size:
        height: 60
        width: 60
      z: 0
    94ed0ced-a935-4597-beb8-a0db8e9f1c57:
      position:
        x: 295
        y: 871
      size:
        height: 60
        width: 60
      z: 0
    97f21161-342d-4f5b-beb6-84418d276235:
      position:
        x: 1550
        y: 8
      size:
        height: 60
        width: 60
      z: 0
    997025a3-d942-4c38-a96e-01a1e1fea2f0:
      position:
        x: 437
        y: 518
      size:
        height: 60
        width: 60
      z: 2
    9bdff8c2-8b99-42d3-8ed5-985f8983cf60:
      position:
        x: 927
        y: -115
      size:
        height: 60
        width: 60
      z: 0
    9e95c11c-02b4-441d-be0c-d181a3b3f90a:
      source:
        id: a3faac40-3d62-4add-8327-26168f79012e
      target:
        id: 0e9e1ea9-e3fb-4176-b465-ca40c0ab72f5
      z: 1
    a2834a9a-e98e-4300-aec3-fa724ac7b7a5:
      position:
        x: 434
        y: 353
      size:
        height: 60
        width: 60
      z: 2
    a3faac40-3d62-4add-8327-26168f79012e:
      position:
        x: -9
        y: 484
      size:
        height: 60
        width: 60
      z: 0
    a439f32b-630f-40b1-beef-5b35f0e6561c:
      source:
        id: 97f21161-342d-4f5b-beb6-84418d276235
      target:
        id: ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0
      z: 1
    abb8bc2b-bc3f-4dc5-9aaf-31a923b0bde7:
      position:
        x: 437
        y: 900
      size:
        height: 60
        width: 60
      z: 0
    ac96b205-e3ef-4e79-8336-262e525c42a0:
      source:
        id: e87eb809-dde6-4a1e-b9c6-ffa7a60d3511
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    ae54b288-d339-4f37-94a0-6871eded19d3:
      source:
        id: 89ce39c3-b1ae-4e72-949e-6f2c4a4b1c51
      target:
        id: 94ed0ced-a935-4597-beb8-a0db8e9f1c57
      z: 1
    b71715ff-04ee-4ecc-b6c6-2b1385695bf3:
      source:
        id: fdad2146-da3b-485a-9eb6-04540c206760
      target:
        id: 7b4dd7be-a4c8-430e-b857-3b865172922e
      z: 1
    b81a9e53-c086-4afc-b06f-2ada26b8809c:
      position:
        x: 1034
        y: -213
      size:
        height: 60
        width: 60
      z: 0
    ba1f5a26-b88a-4bfb-aa5f-23a42cf7c8c0:
      position:
        x: 1299
        y: 73
      size:
        height: 60
        width: 60
      z: 2
    bd676f3a-0a26-4621-be51-d05fbfdf244f:
      embeds:
      - 8518ea84-5bed-4bf4-bd6d-6adad83b5c04
      - f68622b7-5b5e-4581-ae0b-36877db2bd61
      position:
        x: 1183
        y: 373
      size:
        height: 292
        width: 210
      z: 1
    c3ece2ea-d2a9-4697-b1ff-463b6d46f663:
      source:
        id: d0710e9f-ee0a-4715-aa4f-a842565af2ed
      target:
        id: f68622b7-5b5e-4581-ae0b-36877db2bd61
      z: 1
    c498a6e5-37fe-4bc1-9797-3eb57858ae1f:
      position:
        x: 1164
        y: 74
      size:
        height: 60
        width: 60
      z: 2
    c8f69c5d-3078-4869-b0fd-e42fd8b9f456:
      source:
        id: 40c20df8-33f4-4593-98a7-69b1114d9971
      target:
        id: 7c76fed0-819d-42c0-a63c-44978e052df5
      z: 1
    c99f23d3-e86a-4ef2-bb35-60c1da9cd55f:
      source:
        id: 89ce39c3-b1ae-4e72-949e-6f2c4a4b1c51
      target:
        id: 997025a3-d942-4c38-a96e-01a1e1fea2f0
      z: 1
    cc837c1a-334c-4a0e-a4a0-4c1fcb6a1615:
      position:
        x: 1164
        y: -112
      size:
        height: 60
        width: 60
      z: 0
    ce4e3fa4-f2d9-4d06-8f29-cd9895eaab17:
      source:
        id: 0178781a-5f70-4d82-92d5-998e0a390776
      target:
        id: 8518ea84-5bed-4bf4-bd6d-6adad83b5c04
      z: 1
    d0710e9f-ee0a-4715-aa4f-a842565af2ed:
      position:
        x: 1133
        y: 702
      size:
        height: 60
        width: 60
      z: 0
    d0ad679c-120b-4047-9be5-74b5dfa690ad:
      position:
        x: 603
        y: -107
      size:
        height: 60
        width: 60
      z: 0
    d47c2f64-8b52-4778-93cd-277c5a31a09a:
      position:
        x: 891
        y: 78
      size:
        height: 60
        width: 60
      z: 3
    e20570fb-4439-4c14-a923-880f09dfd160:
      position:
        x: 1034
        y: 74
      size:
        height: 60
        width: 60
      z: 2
    e87eb809-dde6-4a1e-b9c6-ffa7a60d3511:
      position:
        x: -8
        y: 653
      size:
        height: 60
        width: 60
      z: 0
    ee475046-0e3d-4448-81aa-36b8a3aaa186:
      position:
        x: -4
        y: 298
      size:
        height: 60
        width: 60
      z: 0
    ee5cfb12-8006-4b86-9055-7aab16c0ab20:
      position:
        x: 580
        y: 778
      size:
        height: 60
        width: 60
      z: 0
    eea1f3d6-c2aa-46ed-beb0-4a1c6214c48a:
      source:
        id: fdad2146-da3b-485a-9eb6-04540c206760
      target:
        id: 52265ce3-275c-4f4c-acfb-eb0d79d4b50a
      z: 1
    f68622b7-5b5e-4581-ae0b-36877db2bd61:
      position:
        x: 1259
        y: 545
      size:
        height: 60
        width: 60
      z: 2
    f974a802-6f93-44a1-af70-8c2cc70d9797:
      embeds:
      - d47c2f64-8b52-4778-93cd-277c5a31a09a
      position:
        x: 852
        y: 24
      size:
        height: 180
        width: 148.15234375
      z: 2
    f9cf2200-6019-470f-84e0-4cb1d216a724:
      source:
        id: 408a2fd4-9698-4db5-aa6b-35d536f4a3fc
      target:
        id: 8518ea84-5bed-4bf4-bd6d-6adad83b5c04
      z: 1
    fdad2146-da3b-485a-9eb6-04540c206760:
      position:
        x: -6
        y: 568
      size:
        height: 60
        width: 60
      z: 0
