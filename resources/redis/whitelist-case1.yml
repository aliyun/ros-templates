ROSTemplateFormatVersion: '2015-09-01'
Parameters:
  InstanceId:
    Type: String
    Description: Redis实例ID（全局唯一）
    AssociationProperty: ALIYUN::Redis::Instance::InstanceId
Resources:
  Whitelist:
    Type: ALIYUN::REDIS::Whitelist
    Properties:
      InstanceId:
        Ref: InstanceId
      SecurityIpGroupName: ros
      SecurityIpGroupAttribute: show
      SecurityIps: 0.0.0.0/0
Outputs:
  SecurityIpGroupName:
    Description: 白名单分组名称
    Value:
      Fn::GetAtt:
        - Whitelist
        - SecurityIpGroupName
  SecurityIpGroupAttribute:
    Description: 白名单分组属性值
    Value:
      Fn::GetAtt:
        - Whitelist
        - SecurityIpGroupAttribute
  SecurityIps:
    Description: IP地址白名单
    Value:
      Fn::GetAtt:
        - Whitelist
        - SecurityIps